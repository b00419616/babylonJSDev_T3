import{S as E,V as c,M as f,b,T as M,c as R,H as v,C as w,D as B,A as P,a as I,d as H,E as A}from"./nativeXRFrame-DOeo_lEL.js";/* empty css              */function D(a){let t=5*Math.PI/4,n=Math.PI/4,u=50,d=new c(0,20,0);const e=new P("camera1",t,n,u,d,a);return e.attachControl(!0),e.lowerBetaLimit=.1,e.upperBetaLimit=Math.PI/2.2,e.lowerRadiusLimit=15,e.upperRadiusLimit=100,e}function G(a,t,n,u){const d=new b(t,u);d.diffuseTexture=new M(n,u),a.material=d}function F(a){const t=new v("ambientLight",new c(0,1,0),a);t.intensity=.1,t.diffuse=new w(.6,.7,1),t.groundColor=new w(.2,.2,.3),t.specular=new w(.5,.5,.6);const n=new B("light",new c(1,-2,1),a);return n.position=new c(-10,100,-10),n.intensity=.7,n.diffuse=new w(.6,.7,1),n.specular=new w(.8,.9,1),n}function O(a,t){const n=new I(2048,t);n.useExponentialShadowMap=!1,n.useBlurExponentialShadowMap=!0,n.blurKernel=16,a.meshes.forEach(d=>{d.name.includes("rockCluster")&&n.addShadowCaster(d)});const u=a.getMeshByName("ground");u&&(u.receiveShadows=!0)}function _(a){let t=f.CreateGroundFromHeightMap("ground","./textures/heightMap.png",{width:512,height:512,subdivisions:512,minHeight:0,maxHeight:20},a);return G(t,"moonMat","textures/moon.jpg",a),t}function z(a){function t(o){const i=[1,2,3,4,8],s=i[Math.floor(Math.random()*i.length)];let r=f.CreatePolyhedron("spacerock",{type:s,size:1.5},o);r.position=new c(0,0,0);const l=new b("rockMat",o);return l.diffuseTexture=new M("./textures/spacedebris.png",o),l.bumpTexture=new M("./textures/spacedebris_n.png",o),l.bumpTexture.level=1.25,console.log("Bump Level is:  ",l.bumpTexture.level),r.material=l,r.setEnabled(!1),r}function n(o,i,s){const r=t(o);r.setEnabled(!1);const l=[];for(let p=0;p<i;p++){const h=r.clone(`rockClone_${p}`);h&&(h.setEnabled(!0),h.position=s.add(new c((Math.random()-.5)*10,(Math.random()-.5)*5,(Math.random()-.5)*10)),h.scaling=new c(.6+Math.random()*.8,.6+Math.random()*.8,.6+Math.random()*.8),h.rotation=new c(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI),l.push(h))}const m=H.MergeMeshes(l,!0,!0,void 0,!1,!0);if(m){m.name="rockCluster";const p=.3+Math.random()*.5,h=.2+Math.random()*.2,S=m.position.y,L=Math.random()*Math.PI*2;return o.registerBeforeRender(()=>{const T=performance.now()*.001;m.position.y=S+Math.sin(T*h+L)*p}),m}else return console.warn("Failed to merge rock cluster."),r}function u(o,i,s){for(let r=0;r<i;r++){const l=(Math.random()-.5)*s,m=(Math.random()-.5)*s,p=15+Math.random()*3;n(o,5+Math.floor(Math.random()*6),new c(l,p,m))}}function d(o){const i=f.CreateBox("skybox",{size:5e3},o),s=new b("skyboxMat",o);s.backFaceCulling=!1;const r=new R("./textures/skybox/skybox",o);return s.reflectionTexture=r,s.reflectionTexture.coordinatesMode=M.SKYBOX_MODE,s.disableLighting=!0,i.material=s,console.log("Skybox created:",i),console.log("Skybox material:",i.material),i}let e={scene:new E(a)};e.skybox=d(e.scene),e.light=F(e.scene),e.ground=_(e.scene),e.camera=D(e.scene),e.spacerock=t(e.scene),u(e.scene,60,500);const x=t(e.scene);x.position=new c(0,20,0);const k=t(e.scene);k.position=new c(0,15,0);const y=t(e.scene);return y.position=new c(0,25,0),x.setEnabled(!0),k.setEnabled(!0),y.setEnabled(!0),O(e.scene,e.light),e}const K="renderCanvas";let g=document.createElement("canvas");g.id=K;g.classList.add("background-canvas");document.body.appendChild(g);let C=new A(g,!0,{},!0),N=z(C);C.runRenderLoop(()=>{N.scene.render()});
